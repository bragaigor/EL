TestPushConstant

DEF main 0
	// Call looping_add() and print the result and how long it took 20 times
	PUSH_CONSTANT 20
	POP_LOCAL 2
	PUSH_CONSTANT 0
	POP_LOCAL 1
LOOP_START:
	CURRENT_TIME
	POP_LOCAL 0
	CALL push_constant 0
	CURRENT_TIME
	PUSH_LOCAL 0
	SUB
	POP_LOCAL 0
	PRINT_STRING "looping_add() = "
	PRINT_INT64
	PRINT_STRING " executed in "
	PUSH_LOCAL 0
	PRINT_INT64
	PRINT_STRING "ms\n"

	PUSH_LOCAL 1
	PUSH_CONSTANT 1
	ADD
	DUP
	POP_LOCAL 1
	PUSH_LOCAL 2
	JMPL LOOP_START
	
	
	PUSH_CONSTANT 1
	RET
end

DEF push_constant 0
	PUSH_CONSTANT 4
	PRINT_INT64
	PUSH_CONSTANT 5000
	PRINT_INT64
	PUSH_CONSTANT 5001
	PRINT_INT64
	PUSH_CONSTANT 5999
	PRINT_INT64
	PUSH_CONSTANT 6000
	PRINT_INT64
	PUSH_CONSTANT 9999
	PRINT_INT64
	PUSH_CONSTANT 10000
	PRINT_INT64
	PUSH_CONSTANT 32000
	PRINT_INT64
	PUSH_CONSTANT 50000
	PRINT_INT64
	PUSH_CONSTANT 500000
	PRINT_INT64
	PUSH_CONSTANT 5000000
	PRINT_INT64
	PUSH_CONSTANT 100
	RET
end
